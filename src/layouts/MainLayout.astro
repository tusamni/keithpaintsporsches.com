---
import "/src/assets/css/_global.css";

import { Font } from 'astro:assets';
import Container from "@/components/content/Container";
import Footer from "@/components/content/Footer";
import MainNavigation from "@/components/content/navigation/MainNavigation";
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro</title>

		<Font cssVariable='--font-heading' preload />
	</head>

	<body class="bg-black text-white">
		<div class="navbar sticky w-full h-auto top-[-1px] z-50 border-b border-neutral-700">
			<Container>
				<div class="flex justify-between items-center">
					<div class="font-semibold text-xl font-heading antialiased">KPP</div>
					
					<MainNavigation />
				</div>
			</Container>
		</div>

		<slot />

		<Footer />

		<script is:inline>
			const el = document.querySelector('.navbar');
			const observer = new IntersectionObserver( 
			([e]) => e.target.classList.toggle("is-pinned", e.intersectionRatio < 1),
			{ threshold: [1] }
			);

			observer.observe(el);
		</script>
	</body>
</html>